# use C-a prefix, like in screen
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# TODO: figure out why this doesn't work
# set -g default-terminal "screen-256color"

# Longer message times
set -g display-time 2000

# I like main-horizontal, but want it wider
setw -g main-pane-width 150

# Visual refresh with r
unbind r
bind r select-layout

# Config refresh with R
bind R source-file ~/.tmux.conf

# Window handling
bind C command-prompt -p "New window command" "new-window '%%'"
# Create new pane with existing window
bind @ command-prompt -p "create pane from:" "join-pane -s ':%%'"

# Let me use the mouse
set -g mouse-select-pane on
set -g mouse-select-window on
set -g mouse-resize-pane on
setw -g mode-mouse copy-mode

# Use vim motion keys while in copy mode
setw -g mode-keys vi
bind -t vi-choice C-d page-down
bind -t vi-choice C-u page-up
bind -t vi-copy C-u page-up
bind -t vi-copy C-d page-down
bind -t vi-copy C-e scroll-down
bind -t vi-copy C-y scroll-up

# Vim key bindings for command entry
set -g status-keys vi
bind -t vi-edit Up history-up
bind -t vi-edit Down history-down
bind -t vi-edit Left cursor-left
bind -t vi-edit Right cursor-right

# Use "v" and "s" to do vertical/horizontal splits, like vim
unbind %
unbind '"'
bind s split-window -v
bind S command-prompt -p "New pane command:" "split-window -v '%%'"
bind v split-window -h
bind V command-prompt -p "New pane command:" "split-window -h '%%'"

# Use the vim motion keys to move between panes
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Use the vim resize keys
bind < resize-pane -L 5
bind > resize-pane -R 5
bind - resize-pane -D 5
bind + resize-pane -U 5
setw -g aggressive-resize on

# Better status bar
set -g status-bg black
set -g status-fg white
set -g status-justify centre
setw -g window-status-current-bg red

set -g status-left-length 40
set -g status-left '#S:#W.#P'
set -g status-left-fg green

set -g status-right '%H:%M %d-%b-%y'
set -g status-right-fg magenta
